const queens = {
 "Bebe Zahara Benet": { season: "1", placement: "1", country: "🇺🇸", image: "" },
 "Nina Flowers": { season: "1", placement: "2", country: "🇺🇸", image: "" },
 "Rebecca Glasscock": { season: "1", placement: "3", country: "🇺🇸", image: "" },
 "Shannel": { season: "1", placement: "4", country: "🇺🇸", image: "" },
 "Ongina": { season: "1", placement: "5", country: "🇺🇸", image: "" },
 "Jade": { season: "1", placement: "6", country: "🇺🇸", image: "" },
 "Akashia": { season: "1", placement: "7", country: "🇺🇸", image: "" },
 "Tammie Brown": { season: "1", placement: "8", country: "🇺🇸", image: "" },
 "Victoria Porkchop Parker": { season: "1", placement: "9", country: "🇺🇸", image: "" },
 "Raven": { season: "2", placement: "2", country: "🇺🇸", image: "" },
 "Jujubee": { season: "2", placement: "3", country: "🇺🇸", image: "" },
 "Tatianna": { season: "2", placement: "4", country: "🇺🇸", image: "" },
 "Pandora Boxx": { season: "2", placement: "5", country: "🇺🇸", image: "" },
 "Jessica Wild": { season: "2", placement: "6", country: "🇺🇸", image: "" },
 "Sahara Davenport": { season: "2", placement: "7", country: "🇺🇸", image: "" },
 "Morgan McMichaels": { season: "2", placement: "8", country: "🇺🇸", image: "" },
 "Kylie Sonique Love": { season: "2", placement: "9", country: "🇺🇸", image: "" },
 "Mystique Summers Madison": { season: "2", placement: "10", country: "🇺🇸", image: "" },
 "Nicole Paige Brooks": { season: "2", placement: "11", country: "🇺🇸", image: "" },
 "Raja Gemini": { season: "3", placement: "1", country: "🇺🇸", image: "" },
 "Manila Luzon": { season: "3", placement: "2", country: "🇺🇸", image: "" },
 "Alexis Mateo": { season: "3", placement: "3", country: "🇺🇸", image: "" },
 "Yara Sofia": { season: "3", placement: "4", country: "🇺🇸", image: "" },
 "Carmen Carrera": { season: "3", placement: "5", country: "🇺🇸", image: "" },
 "Delta Work": { season: "3", placement: "7", country: "🇺🇸", image: "" },
 "Stacy Layne Matthews": { season: "3", placement: "8", country: "🇺🇸", image: "" },
 "Mariah Paris Balenciaga": { season: "3", placement: "9", country: "🇺🇸", image: "" },
 "India Ferrah": { season: "3", placement: "10", country: "🇺🇸", image: "" },
 "Mimi Imfurst": { season: "3", placement: "11", country: "🇺🇸", image: "" },
 "Phoenix": { season: "3", placement: "12", country: "🇺🇸", image: "" },
 "Venus D-Lite": { season: "3", placement: "13", country: "🇺🇸", image: "" },
 "Chad Michaels": { season: "4", placement: "2/3", country: "🇺🇸", image: "" },
 "Phi Phi O'Hara": { season: "4", placement: "2/3", country: "🇺🇸", image: "" },
 "Latrice Royale": { season: "4", placement: "4", country: "🇺🇸", image: "" },
 "Kenya Michaels": { season: "4", placement: "5", country: "🇺🇸", image: "" },
 "Dida Ritz": { season: "4", placement: "6", country: "🇺🇸", image: "" },
 "Willam": { season: "4", placement: "7", country: "🇺🇸", image: "" },
 "Jiggly Caliente": { season: "4", placement: "8", country: "🇺🇸", image: "" },
 "Milan": { season: "4", placement: "9", country: "🇺🇸", image: "" },
 "Madame LaQueer": { season: "4", placement: "10", country: "🇺🇸", image: "" },
 "The Princess": { season: "4", placement: "11", country: "🇺🇸", image: "" },
 "Lashauwn Beyond": { season: "4", placement: "12", country: "🇺🇸", image: "" },
 "Alisa Summers": { season: "4", placement: "13", country: "🇺🇸", image: "" },
 "Jinkx Monsoon": { season: "5", placement: "1", country: "🇺🇸", image: "" },
 "Alaska": { season: "5", placement: "2", country: "🇺🇸", image: "" },
 "Roxxxy Andrews": { season: "5", placement: "3", country: "🇺🇸", image: "" },
 "Detox": { season: "5", placement: "4", country: "🇺🇸", image: "" },
 "Coco Montrese": { season: "5", placement: "5", country: "🇺🇸", image: "" },
 "Alyssa Edwards": { season: "5", placement: "6", country: "🇺🇸", image: "" },
 "Ivy Winters": { season: "5", placement: "7", country: "🇺🇸", image: "" },
 "Jade Jolie": { season: "5", placement: "8", country: "🇺🇸", image: "" },
 "Lineysha Sparx": { season: "5", placement: "9", country: "🇺🇸", image: "" },
 "Honey Mahoganey": { season: "5", placement: "10/11", country: "🇺🇸", image: "" },
 "Vivienne Pinay": { season: "5", placement: "10/11", country: "🇺🇸", image: "" },
 "Monica Beverly Hillz": { season: "5", placement: "12", country: "🇺🇸", image: "" },
 "Serena ChaCha": { season: "5", placement: "13", country: "🇺🇸", image: "" },
 "Penny Tration": { season: "5", placement: "14", country: "🇺🇸", image: "" },
 "Bianca Del Rio": { season: "6", placement: "1", country: "🇺🇸", image: "" },
 "Adore Delano": { season: "6", placement: "2", country: "🇺🇸", image: "" },
 "Courtney Act": { season: "6", placement: "3", country: "🇺🇸", image: "" },
 "Darienne Lake": { season: "6", placement: "4", country: "🇺🇸", image: "" },
 "BenDeLaCreme": { season: "6", placement: "5", country: "🇺🇸", image: "" },
 "Joslyn Fox": { season: "6", placement: "6", country: "🇺🇸", image: "" },
 "Trinity K. Bonet": { season: "6", placement: "7", country: "🇺🇸", image: "" },
 "Laganja Estranja": { season: "6", placement: "8", country: "🇺🇸", image: "" },
 "Milk": { season: "6", placement: "9", country: "🇺🇸", image: "" },
 "Gia Gunn": { season: "6", placement: "10", country: "🇺🇸", image: "" },
 "April Carrión": { season: "6", placement: "11", country: "🇺🇸", image: "" },
 "Vivacious": { season: "6", placement: "12", country: "🇺🇸", image: "" },
 "Magnolia Crawford": { season: "6", placement: "13", country: "🇺🇸", image: "" },
 "Kelly Mantle": { season: "6", placement: "14", country: "🇺🇸", image: "" },
 "Violet Chachki": { season: "7", placement: "1", country: "🇺🇸", image: "" },
 "Ginger Minj": { season: "7", placement: "2/3", country: "🇺🇸", image: "" },
 "Pearl": { season: "7", placement: "2/3", country: "🇺🇸", image: "" },
 "Kennedy Davenport": { season: "7", placement: "4", country: "🇺🇸", image: "" },
 "Katya": { season: "7", placement: "5", country: "🇺🇸", image: "" },
 "Trixie Mattel": { season: "7", placement: "6", country: "🇺🇸", image: "" },
 "Miss Fame": { season: "7", placement: "7", country: "🇺🇸", image: "" },
 "Jaidynn Diore Fierce": { season: "7", placement: "8", country: "🇺🇸", image: "" },
 "Max": { season: "7", placement: "9", country: "🇺🇸", image: "" },
 "Kandy Ho": { season: "7", placement: "10", country: "🇺🇸", image: "" },
 "Mrs. Kasha Davis": { season: "7", placement: "11", country: "🇺🇸", image: "" },
 "Jasmine Masters": { season: "7", placement: "12", country: "🇺🇸", image: "" },
 "Sasha Belle": { season: "7", placement: "13", country: "🇺🇸", image: "" },
 "Tempest DuJour": { season: "7", placement: "14", country: "🇺🇸", image: "" },
 "Bob The Drag Queen": { season: "8", placement: "1", country: "🇺🇸", image: "" },
 "Kim Chi": { season: "8", placement: "2/3", country: "🇺🇸", image: "" },
 "Naomi Smalls": { season: "8", placement: "2/3", country: "🇺🇸", image: "" },
 "Chi Chi Devayne": { season: "8", placement: "4", country: "🇺🇸", image: "" },
 "Derrick Barry": { season: "8", placement: "5", country: "🇺🇸", image: "" },
 "Thorgy Thor": { season: "8", placement: "6", country: "🇺🇸", image: "" },
 "Robbie Turner": { season: "8", placement: "7", country: "🇺🇸", image: "" },
 "Acid Betty": { season: "8", placement: "8", country: "🇺🇸", image: "" },
 "Naysha Lopez": { season: "8", placement: "9", country: "🇺🇸", image: "" },
 "Cynthia Lee Fontaine": { season: "8/9", placement: "10", country: "🇺🇸", image: "" },
 "Dax ExclamationPoint": { season: "8", placement: "11/12", country: "🇺🇸", image: "" },
 "Laila McQueen": { season: "8", placement: "11/12", country: "🇺🇸", image: "" },
 "Sasha Velour": { season: "9", placement: "1", country: "🇺🇸", image: "" },
 "Peppermint": { season: "9", placement: "2", country: "🇺🇸", image: "" },
 "Shea Couleé": { season: "9", placement: "3/4", country: "🇺🇸", image: "" },
 "Trinity The Tuck": { season: "9", placement: "3/4", country: "🇺🇸", image: "" },
 "Alexis Michelle": { season: "9", placement: "5", country: "🇺🇸", image: "" },
 "Nina Bo'Nina Brown": { season: "9", placement: "6", country: "🇺🇸", image: "" },
 "Valentina": { season: "9", placement: "7", country: "🇺🇸", image: "" },
 "Farrah Moan": { season: "9", placement: "8", country: "🇺🇸", image: "" },
 "Aja": { season: "9", placement: "9", country: "🇺🇸", image: "" },
 "Eureka O'Hara": { season: "9/10", placement: "11/2/3", country: "🇺🇸", image: "" },
 "Charlie Hides": { season: "9", placement: "12", country: "🇺🇸", image: "" },
 "Kimora Blac": { season: "9", placement: "13", country: "🇺🇸", image: "" },
 "Jaymes Mansfield": { season: "9", placement: "14", country: "🇺🇸", image: "" },
 "Aquaria": { season: "10", placement: "1", country: "🇺🇸", image: "" },
 "Kameron Michaels": { season: "10", placement: "2/3", country: "🇺🇸", image: "" },
 "Asia O'Hara": { season: "10", placement: "4", country: "🇺🇸", image: "" },
 "Miz Cracker": { season: "10", placement: "5", country: "🇺🇸", image: "" },
 "Monet X Change": { season: "10", placement: "6", country: "🇺🇸", image: "" },
 "The Vixen": { season: "10", placement: "7", country: "🇺🇸", image: "" },
 "Mo Heart": { season: "10", placement: "8", country: "🇺🇸", image: "" },
 "Blair St. Clair": { season: "10", placement: "9", country: "🇺🇸", image: "" },
 "Mayhem Miller": { season: "10", placement: "10", country: "🇺🇸", image: "" },
 "Dusty Ray Bottoms": { season: "10", placement: "11", country: "🇺🇸", image: "" },
 "Yuhua Hamasaki": { season: "10", placement: "12", country: "🇺🇸", image: "" },
 "Kaloria Karbdashian-Williams": { season: "10", placement: "13", country: "🇺🇸", image: "" },
 "Vanessa Vanjie Mateo": { season: "10/11", placement: "14/5", country: "🇺🇸", image: "" },
 "Yvie Oddly": { season: "11", placement: "1", country: "🇺🇸", image: "" },
 "Brooke Lynn Hytes": { season: "11", placement: "2", country: "🇺🇸", image: "" },
 "A'keria C. Davenport": { season: "11", placement: "3/4", country: "🇺🇸", image: "" },
 "Silky Nutmeg Ganache": { season: "11", placement: "3/4", country: "🇺🇸", image: "" },
 "Nina West": { season: "11", placement: "5", country: "🇺🇸", image: "" },
 "Shuga Cain": { season: "11", placement: "6", country: "🇺🇸", image: "" },
 "Plastique Tiara": { season: "11", placement: "7", country: "🇺🇸", image: "" },
 "Ra'Jah O'Hara": { season: "11", placement: "8", country: "🇺🇸", image: "" },
 "Scarlet Envy": { season: "11", placement: "9", country: "🇺🇸", image: "" },
 "Ariel Versace": { season: "11", placement: "10", country: "🇺🇸", image: "" },
 "Mercedes Iman Diamond": { season: "11", placement: "11", country: "🇺🇸", image: "" },
 "Honey Davenport": { season: "11", placement: "12", country: "🇺🇸", image: "" },
 "Kahanna Montrese": { season: "11", placement: "13", country: "🇺🇸", image: "" },
 "Jaida Essence Hall": { season: "12", placement: "1", country: "🇺🇸", image: "" },
 "Crystal Methyd": { season: "12", placement: "2/3", country: "🇺🇸", image: "" },
 "Gigi Goode": { season: "12", placement: "2/3", country: "🇺🇸", image: "" },
 "Jackie Cox": { season: "12", placement: "5", country: "🇺🇸", image: "" },
 "Heidi N' Closet": { season: "12", placement: "6", country: "🇺🇸", image: "" },
 "Widow Von'Du": { season: "12", placement: "7", country: "🇺🇸", image: "" },
 "Jan": { season: "12", placement: "8", country: "🇺🇸", image: "" },
 "Brita Filter": { season: "12", placement: "9", country: "🇺🇸", image: "" },
 "Aiden Zhane": { season: "12", placement: "10", country: "🇺🇸", image: "" },
 "Nicky Doll": { season: "12", placement: "11", country: "🇺🇸", image: "" },
 "Rock M. Sakura": { season: "12", placement: "12", country: "🇺🇸", image: "" },
 "Dahlia Sin": { season: "12", placement: "13", country: "🇺🇸", image: "" },
 "Symone": { season: "13", placement: "1", country: "🇺🇸", image: "" },
 "Kandy Muse": { season: "13", placement: "2", country: "🇺🇸", image: "" },
 "Gottmik": { season: "13", placement: "3/4", country: "🇺🇸", image: "" },
 "Rosé": { season: "13", placement: "3/4", country: "🇺🇸", image: "" },
 "Olivia Lux": { season: "13", placement: "5", country: "🇺🇸", image: "" },
 "Utica Queen": { season: "13", placement: "6", country: "🇺🇸", image: "" },
 "Tina Burner": { season: "13", placement: "7", country: "🇺🇸", image: "" },
 "Denali": { season: "13", placement: "8", country: "🇺🇸", image: "" },
 "LaLa Ri": { season: "13", placement: "10", country: "🇺🇸", image: "" },
 "Tamisha Iman": { season: "13", placement: "11", country: "🇺🇸", image: "" },
 "Joey Jay": { season: "13", placement: "12", country: "🇺🇸", image: "" },
 "Kahmora Hall": { season: "13", placement: "13", country: "🇺🇸", image: "" },
 "Willow Pill": { season: "14", placement: "1", country: "🇺🇸", image: "" },
 "Lady Camden": { season: "14", placement: "2", country: "🇺🇸", image: "" },
 "Angeria Paris VanMicheals": { season: "14", placement: "3/4/5", country: "🇺🇸", image: "" },
 "Bosco": { season: "14", placement: "3/4/5", country: "🇺🇸", image: "" },
 "Daya Betty": { season: "14", placement: "3/4/5", country: "🇺🇸", image: "" },
 "Deja Skye": { season: "14", placement: "6/7", country: "🇺🇸", image: "" },
 "Jorgeous": { season: "14", placement: "6/7", country: "🇺🇸", image: "" },
 "Jasmine Kennedie": { season: "14", placement: "8", country: "🇺🇸", image: "" },
 "Kerri Colby": { season: "14", placement: "9", country: "🇺🇸", image: "" },
 "Maddy Morphosis": { season: "14", placement: "10", country: "🇺🇸", image: "" },
 "Orion Story": { season: "14", placement: "11", country: "🇺🇸", image: "" },
 "Kornbread Jeté": { season: "14", placement: "12", country: "🇺🇸", image: "" },
 "Alyssa Hunter": { season: "14", placement: "13", country: "🇺🇸", image: "" },
 "June Jumbalaya": { season: "14", placement: "14", country: "🇺🇸", image: "" },
 "Sasha Colby": { season: "15", placement: "1", country: "🇺🇸", image: "" },
 "Anetra": { season: "15", placement: "2", country: "🇺🇸", image: "" },
 "Luxx Noir London": { season: "15", placement: "3/4", country: "🇺🇸", image: "" },
 "Mistress Isabelle Brooks": { season: "15", placement: "3/4", country: "🇺🇸", image: "" },
 "Loosey LaDuca": { season: "15", placement: "5", country: "🇺🇸", image: "" },
 "Salina Estitties": { season: "15", placement: "6", country: "🇺🇸", image: "" },
 "Marcia Marcia Marcia": { season: "15", placement: "7", country: "🇺🇸", image: "" },
 "Malaysia Babydoll Foxx": { season: "15", placement: "8", country: "🇺🇸", image: "" },
 "Spice": { season: "15", placement: "9", country: "🇺🇸", image: "" },
 "Jax": { season: "15", placement: "10", country: "🇺🇸", image: "" },
 "Aura Mayari": { season: "15", placement: "11", country: "🇺🇸", image: "" },
 "Robin Fierce": { season: "15", placement: "12", country: "🇺🇸", image: "" },
 "Amethyst": { season: "15", placement: "13", country: "🇺🇸", image: "" },
 "Sugar": { season: "15", placement: "14", country: "🇺🇸", image: "" },
 "Princess Poppy": { season: "15", placement: "15", country: "🇺🇸", image: "" },
 "Irene The Alien": { season: "15", placement: "16", country: "🇺🇸", image: "" },
 "Nymphia Wind": { season: "16", placement: "1", country: "🇺🇸", image: "" },
 "Sapphira Cristál": { season: "16", placement: "2", country: "🇺🇸", image: "" },
 "Plane Jane": { season: "16", placement: "3", country: "🇺🇸", image: "" },
 "Q": { season: "16", placement: "4", country: "🇺🇸", image: "" },
 "Morphine Love Dion": { season: "16", placement: "5", country: "🇺🇸", image: "" },
 "Dawn": { season: "16", placement: "6", country: "🇺🇸", image: "" },
 "Mhi'ya Iman Le'Paige": { season: "16", placement: "7", country: "🇺🇸", image: "" },
 "Plasma": { season: "16", placement: "8", country: "🇺🇸", image: "" },
 "Xunami Muse": { season: "16", placement: "9", country: "🇺🇸", image: "" },
 "Megami": { season: "16", placement: "10", country: "🇺🇸", image: "" },
 "Geneva Karr": { season: "16", placement: "11", country: "🇺🇸", image: "" },
 "Amanda Tori Meating": { season: "16", placement: "12", country: "🇺🇸", image: "" },
 "Mirage": { season: "16", placement: "13", country: "🇺🇸", image: "" },
 "Hershii LiqCour-Jeté": { season: "16", placement: "14", country: "🇺🇸", image: "" },
 "Onya Nurve": { season: "17", placement: "1", country: "🇺🇸", image: "" },
 "Jewels Sparkles": { season: "17", placement: "2", country: "🇺🇸", image: "" },
 "Lexi Love": { season: "17", placement: "3/4", country: "🇺🇸", image: "" },
 "Sam Star": { season: "17", placement: "3/4", country: "🇺🇸", image: "" },
 "Suzie Toot": { season: "17", placement: "5", country: "🇺🇸", image: "" },
 "Lana Ja'Rae": { season: "17", placement: "6", country: "🇺🇸", image: "" }, 
"Lydia B. Kollins": { season: "17", placement: "7", country: "🇺🇸", image: "" },
 "Arrietty": { season: "17", placement: "8", country: "🇺🇸", image: "" },
 "Kori King": { season: "17", placement: "9", country: "🇺🇸", image: "" },
 "Acacia Forgot": { season: "17", placement: "10", country: "🇺🇸", image: "" },
 "Crystal Envy": { season: "17", placement: "11", country: "🇺🇸", image: "" },
 "Hormona Lisa": { season: "17", placement: "12", country: "🇺🇸", image: "" },
 "Joella": { season: "17", placement: "13", country: "🇺🇸", image: "" },
 "Lucky Starzzz": { season: "17", placement: "14", country: "🇺🇸", image: "" },
};

const queenNames = Object.keys(queens);
let correctQueen = queenNames[Math.floor(Math.random() * queenNames.length)];
let tries = 0;
let maxTries = 5;
let streak = parseInt(localStorage.getItem("streak") || "0");
let highScore = parseInt(localStorage.getItem("highScore") || "0");
let dailyMode = false;

const countryFilter = document.getElementById("country-filter");
const datalist = document.getElementById("queen-options");

function updateQueenDatalist(selectedCountry) {
  datalist.innerHTML = "";
  Object.entries(queens)
    .filter(([name, data]) =>
      selectedCountry === "all" || data.country === selectedCountry
    )
    .forEach(([name]) => {
      const option = document.createElement("option");
      option.value = name;
      datalist.appendChild(option);
    });
}

document.addEventListener("DOMContentLoaded", () => {
  // Setup initial datalist
  updateQueenDatalist("all");

  // Setup event listeners
  countryFilter.addEventListener("change", (e) => {
    updateQueenDatalist(e.target.value);
  });

  document.getElementById("submit-btn").addEventListener("click", submitGuess);
  document.getElementById("mode-toggle").addEventListener("click", toggleMode);
  document.getElementById("next-round-btn").addEventListener("click", nextRound);

  updateStats();
});

function updateStats() {
  document.getElementById("streak-info").innerText = `🔥 Streak: ${streak} | 🏆 High Score: ${highScore}`;
  document.getElementById("tries-left").innerText = `Tries: ${tries}/${maxTries}`;
}

function toggleMode() {
  dailyMode = !dailyMode;
  document.getElementById("mode-toggle").innerText = dailyMode ? "Switch to Endless Mode" : "Switch to Daily Mode";

  if (dailyMode) {
    const today = new Date().toISOString().split('T')[0];
    let seed = 0;
    for (let i = 0; i < today.length; i++) {
      seed += today.charCodeAt(i);
    }
    correctQueen = queenNames[seed % queenNames.length];
  } else {
    correctQueen = queenNames[Math.floor(Math.random() * queenNames.length)];
  }

  resetGame();
}

function resetGame() {
  tries = 0;
  document.getElementById("guess-input").value = "";
  document.querySelector("#guess-table tbody").innerHTML = "";
  document.getElementById("game-result").innerText = "";
  document.getElementById("next-round-btn").style.display = "none";
  updateStats();
}

function submitGuess() {
  const guess = document.getElementById("guess-input").value.trim();
  const tableBody = document.querySelector("#guess-table tbody");
  const result = document.getElementById("game-result");

  if (!queens[guess] || tries >= maxTries) return;

  const data = queens[guess];
  const correct = queens[correctQueen];

  const row = document.createElement("tr");

  // Image cell
const imgCell = document.createElement("td");
const img = document.createElement("img");

if (data.image && typeof data.image === "string" && data.image.trim() !== "") {
  img.src = data.image;
} else {
  // fallback to placeholder
  img.src = "https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/480px-No_image_available.svg.png";
}

img.alt = guess;
img.className = "queen-img";
imgCell.appendChild(img);
row.appendChild(imgCell);


  // Name cell
  const nameCell = document.createElement("td");
  nameCell.textContent = guess;
  row.appendChild(nameCell);

  // Attributes to show with arrow hints
  ["season", "placement", "country"].forEach((attr) => {
    const cell = document.createElement("td");
    let value = data[attr];
    const correctValue = correct[attr];

    // Add arrows for season and placement
    if (attr === "season") {
      const guessedNum = parseInt(value.replace(/[^\d]/g, ""));
      const correctNum = parseInt(correctValue.replace(/[^\d]/g, ""));
      if (guessedNum > correctNum) {
        value += " ⬇️";
      } else if (guessedNum < correctNum) {
        value += " ⬆️";
      }
    }

    if (attr === "placement") {
      // handle cases like "3/4"
      const parsePlacement = (p) => {
        if (p.includes("/")) {
          return Math.min(...p.split("/").map(Number));
        }
        return parseInt(p);
      };
      const guessedNum = parsePlacement(value);
      const correctNum = parsePlacement(correctValue);

      if (guessedNum > correctNum) {
        value += " ⬆️"; // lower placement number = better rank
      } else if (guessedNum < correctNum) {
        value += " ⬇️";
      }
    }

    // Set background color based on raw value comparison (without arrows)
    if (data[attr] === correctValue) {
      cell.style.backgroundColor = "#90ee90"; // green
      cell.classList.add("correct");
    } else {
      cell.style.backgroundColor = "#f08080"; // red
      cell.classList.add("incorrect");
    }

    cell.textContent = value;
    row.appendChild(cell);
  });

  tableBody.appendChild(row);

  tries++;
  updateStats();

  if (guess === correctQueen) {
    result.innerText = "🎉 Correct! You win!";
    if (dailyMode) {
      streak++;
      if (streak > highScore) highScore = streak;
    }
    localStorage.setItem("streak", streak);
    localStorage.setItem("highScore", highScore);
  } else if (tries >= maxTries) {
    result.innerText = `😢 Out of tries! It was ${correctQueen}`;
    if (dailyMode) streak = 0;
    localStorage.setItem("streak", streak);
  }

  if (guess === correctQueen || tries >= maxTries) {
    if (!dailyMode) {
      document.getElementById("next-round-btn").style.display = "inline-block";
    }
  }

  document.getElementById("guess-input").value = "";
}


function nextRound() {
  correctQueen = queenNames[Math.floor(Math.random() * queenNames.length)];
  resetGame();
}
